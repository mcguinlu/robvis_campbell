<!DOCTYPE html>
<html lang="" xml:lang="">
  <head>
    <title>index.knit</title>
    <meta charset="utf-8" />
    <script src="libs/header-attrs/header-attrs.js"></script>
    <link href="libs/remark-css/default.css" rel="stylesheet" />
    <link href="libs/remark-css/hygge.css" rel="stylesheet" />
    <link href="libs/tile-view/tile-view.css" rel="stylesheet" />
    <script src="libs/tile-view/tile-view.js"></script>
    <script src="libs/xaringanExtra-webcam/webcam.js"></script>
    <script id="xaringanExtra-webcam-options" type="application/json">{"width":"200","height":"200","margin":"1em"}</script>
    <script src="libs/htmlwidgets/htmlwidgets.js"></script>
    <link href="libs/datatables-css/datatables-crosstalk.css" rel="stylesheet" />
    <script src="libs/datatables-binding/datatables.js"></script>
    <script src="libs/jquery/jquery-3.6.0.min.js"></script>
    <link href="libs/dt-core/css/jquery.dataTables.min.css" rel="stylesheet" />
    <link href="libs/dt-core/css/jquery.dataTables.extra.css" rel="stylesheet" />
    <script src="libs/dt-core/js/jquery.dataTables.min.js"></script>
    <link href="libs/crosstalk/css/crosstalk.min.css" rel="stylesheet" />
    <script src="libs/crosstalk/js/crosstalk.min.js"></script>
    <link rel="stylesheet" href="custom.css" type="text/css" />
  </head>
  <body>
    <textarea id="source">






.col-right2[
.center[
![](figures/robvis_hex.png)
]
]

## Incorporating risk-of-bias assessments into evidence syntheses with `robvis`

&lt;br&gt;

__Luke McGuinness__&lt;br&gt;

.small[
.image-smallest[![](figures/building.png)] Honorary Snr Research Associate, 
  University of Bristol Medical School

.image-smallest[![](figures/Twitter-featured.png)] mcguinlu

.image-smallest[![](figures/Github-32.png)] mcguinlu
]

???

Hello, I'm Luke McGuinness, a PhD student at the University of Bristol Medical School

Sorry I couldn't attend this presentation live in the chat.

I'm going to talk today about incorporating the resuls of risk-of-bias assessments int

And just to note that all the work presented today would not have been possible without my amazing collaborators, Alex Fowler and Randall Boyes


---

class: inverse, center, middle

# Chapter 1:
# The (Original) Problem

---

## Making ROB figures was a pain

No 

Process was time-consuming and error-prone

Using Adobe, 

Better to automate it

???

Available via RevMan, but not open to all - not open source!

---

class: inverse, center, middle

# Chapter 2:
# Development &amp; Demo

---

##  The `robvis` package 

__R package__ and __web app__ to create publication-quality risk-of-bias visualisations

__Currently can produce two types of plots:__
* Traffic-light plots
* Summary barplots

???

risk of bias assessment a key part of the systematic review process

Familiar to anyone who has done a systematic review before.

robvis built to make these data more visually appealing

---


```r
data_rob2
```

--

<div id="htmlwidget-d31b212b286d94176aaa" style="width:100%;height:auto;" class="datatables html-widget"></div>
<script type="application/json" data-for="htmlwidget-d31b212b286d94176aaa">{"x":{"filter":"none","vertical":false,"fillContainer":false,"data":[["Study 1","Study 2","Study 3","Study 4","Study 5","Study 6","Study 7","Study 8","Study 9"],["Low","Some concerns","No information","Low","High","Low","Low","Low","Low"],["Low","Low","Low","Low","High","High","Some concerns","Some concerns","Low"],["Low","Low","Some concerns","High","Low","Some concerns","Some concerns","Low","High"],["Low","Low","Low","Low","Low","Low","High","Low","Low"],["Low","Low","Low","Some concerns","Some concerns","Low","Low","Low","Low"],["Low","Low","Some concerns","High","Low","Some concerns","Some concerns","Low","High"]],"container":"<table class=\"display\">\n  <thead>\n    <tr>\n      <th>Study<\/th>\n      <th>D1<\/th>\n      <th>D2<\/th>\n      <th>D3<\/th>\n      <th>D4<\/th>\n      <th>D5<\/th>\n      <th>Overall<\/th>\n    <\/tr>\n  <\/thead>\n<\/table>","options":{"pageLength":9,"headerCallback":"function(thead) {\n  $(thead).css('font-size', '17pt');\n}","columnDefs":[{"className":"dt-center","targets":"_all"}],"order":[],"autoWidth":false,"orderClasses":false,"lengthMenu":[9,10,25,50,100],"rowCallback":"function(row, data, displayNum, displayIndex, dataIndex) {\nvar value=data[0]; $(this.api().cell(row, 0).node()).css({'font-size':'17pt'});\nvar value=data[1]; $(this.api().cell(row, 1).node()).css({'font-size':'17pt'});\nvar value=data[2]; $(this.api().cell(row, 2).node()).css({'font-size':'17pt'});\nvar value=data[3]; $(this.api().cell(row, 3).node()).css({'font-size':'17pt'});\nvar value=data[4]; $(this.api().cell(row, 4).node()).css({'font-size':'17pt'});\nvar value=data[5]; $(this.api().cell(row, 5).node()).css({'font-size':'17pt'});\nvar value=data[6]; $(this.api().cell(row, 6).node()).css({'font-size':'17pt'});\n}"}},"evals":["options.headerCallback","options.rowCallback"],"jsHooks":[]}</script>

---

class: center

## Traffic-light plots

.image-small[![](figures/traffic.png)]

???

Example presented is of RoB2 tool for RCT

Studies along the right hand side, domains of bias along the left

---
class: center
##  Summary bar-plots 

&lt;br&gt;

![](figures/summary.png)

???

Same data as before just presented as a bar chart instead
---

class: center, middle

## [**Demo**](https://mcguinlu.shinyapps.io/robvis/)

???

Just to illstrate how easy it is to use

---

class: inverse, center, middle

# Chapter 3:
# Reception

---

## Citations


---

## Downloads

---

## Visitors

* Include map of alltime visits on Google Analyics


---

class: center, middle


![](figures/finding-nemo-bags.gif)
???

So on the basis that I now have an 

Essential question: what else can or should robvis be able to do?

---

class: inverse, center, middle

# Chapter 4:
# The (New) Problem(s)

---

class: large

##  Limitations of the current approach 

.pull-left[
.small[
Risk-of-bias assessments are performed __BUT__ data is relegated to the supplementary material

Better to try and __pair__ the assessments to their respective results

Also useful to perform __sub-group meta-analysis__ by risk-of-bias level
]
]

.pull-right[
![](figures/paired_ROB2.png)

]

???

Insufficient to simply perform the assessments, create the figure and not actively think about what this means for your meta-analysis

---

Evidence that this is happening - cite paper


---

Why this is important - a case study of COVID

* Stratifying by ROB level showed

??? 

All things relate back to COVID

---

class: Largest

## New problems

How can robvis help to:

1. ... to incorporate results into synthesis?

--

1. ... to "triangulate" across study designs?

---

class: inverse, center, middle

# Chapter 5:
# Secret new functionality

---

## `rob_dummy`

* `robvis` is now being used in teaching

* Need for "realistic" risk-of-bias assessment datasets
<div id="htmlwidget-30e57837c1524dfa7dc2" style="width:100%;height:auto;" class="datatables html-widget"></div>
<script type="application/json" data-for="htmlwidget-30e57837c1524dfa7dc2">{"x":{"filter":"none","vertical":false,"fillContainer":false,"data":[["Study 5"],["High"],["High"],["Low"],["Low"],["Some concerns"],["Low"]],"container":"<table class=\"display\">\n  <thead>\n    <tr>\n      <th>Study<\/th>\n      <th>D1<\/th>\n      <th>D2<\/th>\n      <th>D3<\/th>\n      <th>D4<\/th>\n      <th>D5<\/th>\n      <th>Overall<\/th>\n    <\/tr>\n  <\/thead>\n<\/table>","options":{"pageLength":1,"headerCallback":"function(thead) {\n  $(thead).css('font-size', '13pt');\n}","columnDefs":[{"className":"dt-center","targets":"_all"}],"order":[],"autoWidth":false,"orderClasses":false,"lengthMenu":[1,10,25,50,100],"rowCallback":"function(row, data, displayNum, displayIndex, dataIndex) {\nvar value=data[0]; $(this.api().cell(row, 0).node()).css({'font-size':'13pt'});\nvar value=data[1]; $(this.api().cell(row, 1).node()).css({'font-size':'13pt'});\nvar value=data[2]; $(this.api().cell(row, 2).node()).css({'font-size':'13pt'});\nvar value=data[3]; $(this.api().cell(row, 3).node()).css({'font-size':'13pt'});\nvar value=data[4]; $(this.api().cell(row, 4).node()).css({'font-size':'13pt'});\nvar value=data[5]; $(this.api().cell(row, 5).node()).css({'font-size':'13pt'});\nvar value=data[6]; $(this.api().cell(row, 6).node()).css({'font-size':'13pt'});\n}"}},"evals":["options.headerCallback","options.rowCallback"],"jsHooks":[]}</script>

---

## `rob_forest`

* Drop-in replacement for **metafor::forest()**

* Maintains pairing between result and bias assessment

* Allows for subgroup analysis by overall risk-of-bias level



---

## `rob_direction`

---

class: middle

##  metafor + robvis

_Paired_ forest/risk-of-bias plots

???

Going to walk you though an example of producing these paired using metafor, and robvis

---

### Explore the datasets

`metafor` data - 13 trials of effectiveness of BCG vaccine against tuberculosis




```r
table(dat.bcg)
```

<div id="htmlwidget-a3db27afbc23379b7734" style="width:100%;height:auto;" class="datatables html-widget"></div>
<script type="application/json" data-for="htmlwidget-a3db27afbc23379b7734">{"x":{"filter":"none","vertical":false,"fillContainer":false,"data":[[1,2,3,4,5,6,7,8,9,10,11,12,13],["Aronson","Ferguson &amp; Simes","Rosenthal et al","Hart &amp; Sutherland","Frimodt-Moller et al","Stein &amp; Aronson","Vandiviere et al","TPT Madras","Coetzee &amp; Berjak","Rosenthal et al","Comstock et al","Comstock &amp; Webster","Comstock et al"],[1948,1949,1960,1977,1973,1953,1973,1980,1968,1961,1974,1969,1976],[4,6,3,62,33,180,8,505,29,17,186,5,27],[119,300,228,13536,5036,1361,2537,87886,7470,1699,50448,2493,16886],[11,29,11,248,47,372,10,499,45,65,141,3,29],[128,274,209,12619,5761,1079,619,87892,7232,1600,27197,2338,17825],[44,55,42,52,13,44,19,13,27,42,18,33,33],["random","random","random","random","alternate","alternate","random","random","random","systematic","systematic","systematic","systematic"]],"container":"<table class=\"display\">\n  <thead>\n    <tr>\n      <th>trial<\/th>\n      <th>author<\/th>\n      <th>year<\/th>\n      <th>tpos<\/th>\n      <th>tneg<\/th>\n      <th>cpos<\/th>\n      <th>cneg<\/th>\n      <th>ablat<\/th>\n      <th>alloc<\/th>\n    <\/tr>\n  <\/thead>\n<\/table>","options":{"pageLength":13,"headerCallback":"function(thead) {\n  $(thead).css('font-size', '11pt');\n}","columnDefs":[{"className":"dt-center","targets":"_all"}],"order":[],"autoWidth":false,"orderClasses":false,"lengthMenu":[10,13,25,50,100],"rowCallback":"function(row, data, displayNum, displayIndex, dataIndex) {\nvar value=data[0]; $(this.api().cell(row, 0).node()).css({'font-size':'11pt'});\nvar value=data[1]; $(this.api().cell(row, 1).node()).css({'font-size':'11pt'});\nvar value=data[2]; $(this.api().cell(row, 2).node()).css({'font-size':'11pt'});\nvar value=data[3]; $(this.api().cell(row, 3).node()).css({'font-size':'11pt'});\nvar value=data[4]; $(this.api().cell(row, 4).node()).css({'font-size':'11pt'});\nvar value=data[5]; $(this.api().cell(row, 5).node()).css({'font-size':'11pt'});\nvar value=data[6]; $(this.api().cell(row, 6).node()).css({'font-size':'11pt'});\nvar value=data[7]; $(this.api().cell(row, 7).node()).css({'font-size':'11pt'});\nvar value=data[8]; $(this.api().cell(row, 8).node()).css({'font-size':'11pt'});\n}"}},"evals":["options.headerCallback","options.rowCallback"],"jsHooks":[]}</script>

---

### Explore the datasets

`robvis` data - 13 (fake) risk of bias assessments performed using RoB2 for randomised trials





```r
dat.bcg.rob
```

```
## # A tibble: 13 × 7
##    Study                     D1             D2            D3            D4    D5            Overall      
##    &lt;chr&gt;                     &lt;chr&gt;          &lt;chr&gt;         &lt;chr&gt;         &lt;chr&gt; &lt;chr&gt;         &lt;chr&gt;        
##  1 Aronson 1948              Low            Low           Low           Low   Low           Low          
##  2 Ferguson &amp; Simes 1949     Some concerns  Low           Low           Low   Low           Low          
##  3 Rosenthal et al 1960      No information Low           Some concerns Low   Low           Some concerns
##  4 Hart &amp; Sutherland 1977    Low            Low           High          Low   Some concerns High         
##  5 Frimodt-Moller et al 1973 High           High          Low           Low   Some concerns Low          
##  6 Stein &amp; Aronson 1953      Low            High          Some concerns Low   Low           Some concerns
##  7 Vandiviere et al 1973     Low            Some concerns Some concerns High  Low           Some concerns
##  8 TPT Madras 1980           Low            Some concerns Low           Low   Low           Low          
##  9 Coetzee &amp; Berjak 1968     Low            Low           High          Low   Low           High         
## 10 Rosenthal et al 1961      Low            Low           Low           Low   Low           Low          
## 11 Comstock et al 1974       Some concerns  Low           Low           Low   Low           Low          
## 12 Comstock &amp; Webster 1969   No information Low           Some concerns Low   Low           Some concerns
## 13 Comstock et al 1976       Low            Low           High          Low   Some concerns High
```

??? 

Note that these are example assessments from the robvis package

Doubling up to make the N of studies match the N of assessments

Notice that the names are the same

---

#### Standard approach


```r
# Calculate the effect size and sampling variance for each study
dat &lt;- metafor::escalc(
    measure = "RR",
    ai = tpos, bi = tneg, ci = cpos, di = cneg,
    data = dat.bcg,
    slab = paste(author, year))

dat &lt;- cbind(dat, dat.bcg.rob)

# Perform meta-anlysis and plot results
res &lt;- metafor::rma(yi, vi, data = dat)
```

<div id="htmlwidget-7df695531751c67d90ed" style="width:100%;height:auto;" class="datatables html-widget"></div>
<script type="application/json" data-for="htmlwidget-7df695531751c67d90ed">{"x":{"filter":"none","vertical":false,"fillContainer":false,"data":[[1,2],["Aronson","Ferguson &amp; Simes"],[1948,1949],[4,6],[119,300],[11,29],[128,274],[44,55],["random","random"],[-0.89,-1.59],[0.33,0.19],["Aronson 1948","Ferguson &amp; Simes 1949"],["Low","Some concerns"],["Low","Low"],["Low","Low"],["Low","Low"],["Low","Low"],["Low","Low"]],"container":"<table class=\"display\">\n  <thead>\n    <tr>\n      <th>trial<\/th>\n      <th>author<\/th>\n      <th>year<\/th>\n      <th>tpos<\/th>\n      <th>tneg<\/th>\n      <th>cpos<\/th>\n      <th>cneg<\/th>\n      <th>ablat<\/th>\n      <th>alloc<\/th>\n      <th>yi<\/th>\n      <th>vi<\/th>\n      <th>Study<\/th>\n      <th>D1<\/th>\n      <th>D2<\/th>\n      <th>D3<\/th>\n      <th>D4<\/th>\n      <th>D5<\/th>\n      <th>Overall<\/th>\n    <\/tr>\n  <\/thead>\n<\/table>","options":{"pageLength":2,"headerCallback":"function(thead) {\n  $(thead).css('font-size', '11pt');\n}","columnDefs":[{"className":"dt-center","targets":"_all"}],"order":[],"autoWidth":false,"orderClasses":false,"lengthMenu":[2,10,25,50,100],"rowCallback":"function(row, data, displayNum, displayIndex, dataIndex) {\nvar value=data[0]; $(this.api().cell(row, 0).node()).css({'font-size':'11pt'});\nvar value=data[1]; $(this.api().cell(row, 1).node()).css({'font-size':'11pt'});\nvar value=data[2]; $(this.api().cell(row, 2).node()).css({'font-size':'11pt'});\nvar value=data[3]; $(this.api().cell(row, 3).node()).css({'font-size':'11pt'});\nvar value=data[4]; $(this.api().cell(row, 4).node()).css({'font-size':'11pt'});\nvar value=data[5]; $(this.api().cell(row, 5).node()).css({'font-size':'11pt'});\nvar value=data[6]; $(this.api().cell(row, 6).node()).css({'font-size':'11pt'});\nvar value=data[7]; $(this.api().cell(row, 7).node()).css({'font-size':'11pt'});\nvar value=data[8]; $(this.api().cell(row, 8).node()).css({'font-size':'11pt'});\nvar value=data[9]; $(this.api().cell(row, 9).node()).css({'font-size':'11pt'});\nvar value=data[10]; $(this.api().cell(row, 10).node()).css({'font-size':'11pt'});\nvar value=data[11]; $(this.api().cell(row, 11).node()).css({'font-size':'11pt'});\nvar value=data[12]; $(this.api().cell(row, 12).node()).css({'font-size':'11pt'});\nvar value=data[13]; $(this.api().cell(row, 13).node()).css({'font-size':'11pt'});\nvar value=data[14]; $(this.api().cell(row, 14).node()).css({'font-size':'11pt'});\nvar value=data[15]; $(this.api().cell(row, 15).node()).css({'font-size':'11pt'});\nvar value=data[16]; $(this.api().cell(row, 16).node()).css({'font-size':'11pt'});\nvar value=data[17]; $(this.api().cell(row, 17).node()).css({'font-size':'11pt'});\n}"}},"evals":["options.headerCallback","options.rowCallback"],"jsHooks":[]}</script>
???

So we use the escalc function to generate our study effect sizes and sampling variances from the raw counts

This data is then passed to a simple random effects meta-analytical model, and the results are stored in the `res` object.

---

#### Standard approach


```r
metafor::forest(res)
```

&lt;img src="index_files/figure-html/unnamed-chunk-7-1.png" style="display: block; margin: auto;" /&gt;

???

Once we have the results of our meta-analysis

And this is the standard approach.

I'm now going to walk you through two ways in which robvis can add to this standard approach.

---

#### Option #1: `rob_append_to_forest()`


```r
#robvis::rob_append_to_forest(res, dat.bcg.rob)
```

???

This function acts as a wrapper to the metafor::forest function and appends a risk of bias plot to the right hand side

Important that the study names are the same in both the results object and the risk of bias dataset (for matching)

This is only possible due to the foresight of the metafor package developer, who ensured that the forest function could be built upon.

---

#### Option #2: `rob_blobbogram()`





```r
#rob_blobbogram(res, dat.bcg.rob)
```



???

Option to is a bit more sophisticated

Takes whatever meta-analytical model you have specified (though limited to metafor for now) and applies it across studies grouped by risk of bias level.

This function leans heavily on the amazing forester package built by Randall Boyes

This function is still in development, and so some aspect are not finalised - for example, we still need to improve reporting by subgroup and make it clearer which are study vs summary effects

Though, who knows potentially by the time you all see this next week, I'll have worked out the last few issues!

---

#### Option #2: `rob_blobbogram()`




```r
#rob_blobbogram(res, dat.bcg.rob, subset_col = "D1")
```



??? 

One potential added advantage of this approach is that you can subset the studies based not only on the overall risk of bias, but on any of the domains.

So here, we are subsetting by D1 which in the ROB2 tool is bias due to randomisation

---



---

class: inverse, center, middle

# Chapter 6:
# To summarise...

---

## Recap

---

## Where to next?

---

## Get involved

---

class: largest


##  Take-home messages 

__For users__
* Risk-of-bias assessments should be __presented alongside the corresponding result__
* Risk-of-bias level should be investigated as a __source of heterogeneity__

--

__For developers__
* Keep an eye out for potential ways to __build on existing evidence synthesis__ packages to expand user functionality
* On the flip-side, think about how others might build on your packages (and what information they'll need!)


---

class: larger

##  Further info 

__See docs/info at:__
* Package website: [mcguinlu.github.io/robvis/](https://mcguinlu.github.io/robvis)
* Shiny app: [mcguinlu.shinyapps.io/robvis/](https://mcguinlu.shinyapps.io/robvis/)
	
__Paper introducing `robvis`:__
* McGuinness, L. A., &amp; Higgins, J. P. (2020). Risk-of-bias VISualization (robvis): An R package and Shiny web app for visualizing risk-of-bias assessments. Research Synthesis Methods .

__Contribute to the package__:
* Open an issue on the GitHub repository
* Tweet at me ([@mcguinlu](https://twitter.com/mcguinlu))
* Send me an email (luke.a.mcguinness\[at\]gmail.com)

&lt;br&gt;

.center[__Thanks to `robvis` contributors Randall Boyes and Alex Fowler for all their support!__]
    </textarea>
<style data-target="print-only">@media screen {.remark-slide-container{display:block;}.remark-slide-scaler{box-shadow:none;}}</style>
<script src="https://remarkjs.com/downloads/remark-latest.min.js"></script>
<script src="cols_macro.js"></script>
<script>var slideshow = remark.create({
"highlightStyle": "github",
"ratio": "16:9",
"highlightSpans": true,
"highlightLines": true,
"countIncrementalSlides": false,
"slideNumberFormat": "<div class=\"progress-bar-container\">\n  <div class=\"progress-bar\" style=\"width: calc(%current% / %total% * 100%);\">\n  </div>\n</div>"
});
if (window.HTMLWidgets) slideshow.on('afterShowSlide', function (slide) {
  window.dispatchEvent(new Event('resize'));
});
(function(d) {
  var s = d.createElement("style"), r = d.querySelector(".remark-slide-scaler");
  if (!r) return;
  s.type = "text/css"; s.innerHTML = "@page {size: " + r.style.width + " " + r.style.height +"; }";
  d.head.appendChild(s);
})(document);

(function(d) {
  var el = d.getElementsByClassName("remark-slides-area");
  if (!el) return;
  var slide, slides = slideshow.getSlides(), els = el[0].children;
  for (var i = 1; i < slides.length; i++) {
    slide = slides[i];
    if (slide.properties.continued === "true" || slide.properties.count === "false") {
      els[i - 1].className += ' has-continuation';
    }
  }
  var s = d.createElement("style");
  s.type = "text/css"; s.innerHTML = "@media print { .has-continuation { display: none; } }";
  d.head.appendChild(s);
})(document);
// delete the temporary CSS (for displaying all slides initially) when the user
// starts to view slides
(function() {
  var deleted = false;
  slideshow.on('beforeShowSlide', function(slide) {
    if (deleted) return;
    var sheets = document.styleSheets, node;
    for (var i = 0; i < sheets.length; i++) {
      node = sheets[i].ownerNode;
      if (node.dataset["target"] !== "print-only") continue;
      node.parentNode.removeChild(node);
    }
    deleted = true;
  });
})();
// add `data-at-shortcutkeys` attribute to <body> to resolve conflicts with JAWS
// screen reader (see PR #262)
(function(d) {
  let res = {};
  d.querySelectorAll('.remark-help-content table tr').forEach(tr => {
    const t = tr.querySelector('td:nth-child(2)').innerText;
    tr.querySelectorAll('td:first-child .key').forEach(key => {
      const k = key.innerText;
      if (/^[a-z]$/.test(k)) res[k] = t;  // must be a single letter (key)
    });
  });
  d.body.setAttribute('data-at-shortcutkeys', JSON.stringify(res));
})(document);
(function() {
  "use strict"
  // Replace <script> tags in slides area to make them executable
  var scripts = document.querySelectorAll(
    '.remark-slides-area .remark-slide-container script'
  );
  if (!scripts.length) return;
  for (var i = 0; i < scripts.length; i++) {
    var s = document.createElement('script');
    var code = document.createTextNode(scripts[i].textContent);
    s.appendChild(code);
    var scriptAttrs = scripts[i].attributes;
    for (var j = 0; j < scriptAttrs.length; j++) {
      s.setAttribute(scriptAttrs[j].name, scriptAttrs[j].value);
    }
    scripts[i].parentElement.replaceChild(s, scripts[i]);
  }
})();
(function() {
  var links = document.getElementsByTagName('a');
  for (var i = 0; i < links.length; i++) {
    if (/^(https?:)?\/\//.test(links[i].getAttribute('href'))) {
      links[i].target = '_blank';
    }
  }
})();
// adds .remark-code-has-line-highlighted class to <pre> parent elements
// of code chunks containing highlighted lines with class .remark-code-line-highlighted
(function(d) {
  const hlines = d.querySelectorAll('.remark-code-line-highlighted');
  const preParents = [];
  const findPreParent = function(line, p = 0) {
    if (p > 1) return null; // traverse up no further than grandparent
    const el = line.parentElement;
    return el.tagName === "PRE" ? el : findPreParent(el, ++p);
  };

  for (let line of hlines) {
    let pre = findPreParent(line);
    if (pre && !preParents.includes(pre)) preParents.push(pre);
  }
  preParents.forEach(p => p.classList.add("remark-code-has-line-highlighted"));
})(document);</script>

<script>
slideshow._releaseMath = function(el) {
  var i, text, code, codes = el.getElementsByTagName('code');
  for (i = 0; i < codes.length;) {
    code = codes[i];
    if (code.parentNode.tagName !== 'PRE' && code.childElementCount === 0) {
      text = code.textContent;
      if (/^\\\((.|\s)+\\\)$/.test(text) || /^\\\[(.|\s)+\\\]$/.test(text) ||
          /^\$\$(.|\s)+\$\$$/.test(text) ||
          /^\\begin\{([^}]+)\}(.|\s)+\\end\{[^}]+\}$/.test(text)) {
        code.outerHTML = code.innerHTML;  // remove <code></code>
        continue;
      }
    }
    i++;
  }
};
slideshow._releaseMath(document);
</script>
<!-- dynamically load mathjax for compatibility with self-contained -->
<script>
(function () {
  var script = document.createElement('script');
  script.type = 'text/javascript';
  script.src  = 'https://mathjax.rstudio.com/latest/MathJax.js?config=TeX-MML-AM_CHTML';
  if (location.protocol !== 'file:' && /^https?:/.test(script.src))
    script.src  = script.src.replace(/^https?:/, '');
  document.getElementsByTagName('head')[0].appendChild(script);
})();
</script>
  </body>
</html>
